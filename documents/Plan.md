# План автоматизации тестирования сервиса покупки туров через интернет-банк

## Перечень автоматизируемых сценариев

### UI-тесты:

1.	Успешная оплата валидной картой с достаточным балансом.
2.	Успешная выдача кредита на валидную карту с одобренным платежом.
3.	Отказ в оплате с карты с недостаточным балансом.
4.	Отказ в кредите по валидной карте с недостаточным балансом. 
5.	Негативные сценарии связанны с отправкой невалидных значений в полях формы:

    5.1.	Поле «Номер карты»

    1)	Отправка пустого поля;
    2)	Отправка слишком короткого номера карты;
    3)	Отправка номера карты банка, отсутствующего в БД;
    4)	Отправка спец. символов;
    5)	Отправка русских/латинских букв. 

    5.2.	Поле «Месяц»

    1)	Отправка пустого поля;
    2)	Отправка нерелевантного значения - 00;
    3)	Отправка нерелевантного значения (больше 12) - 25;
    4)	Отправка спец. символов;
    5)	Отправка русских/латинских букв.  

    5.3.	Поле «Год»

    1)	Отправка пустого поля;
    2)	Отправка значения меньше нынешнего года;
    3)	Отправка значения более чем на 10 превышающего нынешний год;
    4)	Отправка значения менее 2 цифр;
    5)	Отправка спец. символов;
    6)	Отправка русских/латинских букв.
    7)  Отправка текущего года с прошедшим месяцем.

    5.4.	Поле «Владелец»

    1)	Отправка пустого поля;
    2)	Отправка одного слова латинскими буквами;
    3)	Отправка трёх и более слов латинскими буквами;
    4)	Отправка спец.символов;
    5)	Отправка двух слов русскими буквами;
    6)	Отправка чисел. 
    
    5.5.	Поле «CVV»

    1)	Отправка пустого поля;
    2)	Отправка 1 цифры;
    3)	Отправка 4 цифр;
    4)	Отправка спец.символов;
    5)	Отправка русских/латинских букв.

### API-тесты:

Данные тесты проверяют, что при попытке обратиться к приложению через API сервис отдаёт те же данные, что и при UI-тестах. Они проверяют данные карт (номер, статус) в БД код ответа при обращении к Payment Gate и Credit Gate. 

1.	При обращении к http://localhost:8080/api/v1/pay должны быть получены: код - 200 и карта c номером "4444 4444 4444 4441" отдает статус APPROVED.
2.	При обращении к http://localhost:8080/api/v1/pay должны быть получены: код - 200 и карта с номером "4444 4444 4444 4442" отдает статус DECLINED.
3.	При обращении к http://localhost:8080/api/v1/credit должны быть получены: код - 200 и карта c номером "4444 4444 4444 4441" отдает статус APPROVED.
4.	При обращении к http://localhost:8080/api/v1/credit должны быть получены: код - 200 и карта с номером "4444 4444 4444 4442" отдает статус DECLINED.

## Перечень используемых инструментов

**IntelliJ IDEA** - среда разработки программного обеспечения для написания кода

**Java** (версия 11) - язык программирования для написания кода 

**Git** - система контроля версий, позволяет фиксировать изменения в коде, быстро "откатить" изменения назад, сохранять предыдущие версии.

**Gradle** — система автоматической сборки.

**JUnit-5** - один из самых популярных фреймфорков для модульного тестирования ПО.

**Selenide** - фреймворк для автоматизированного тестирования веб-приложений.

**Lombok** - плагин для автоматической генерации кода, позволяет сократить количество кода.

**Docker** -  ПО для автоматизации развёртывания и управления приложениями. Нужен для развертывания СУБД MySQL и PostgreSQL, а также Node.js  

## Перечень и описание возможных рисков при автоматизации

- Сложности с настройкой Docker-compose.yml и SUT — возможные проблемы с БД, запуском SUT.
- Сложности с раздельным подключением тестов через БД MySQL и PostgreSQL.
- Неоднозначность требований, неполнота или недостаточная подробность документации.

## Интервальная оценка с учётом рисков (в часах)

- Подготовка к проведению тестирования — 16 часов
- Написание тестов — 64 часа
- Резерв времени на написание баг-репортов — 16 часов
- Подготовка отчёта о результатах прогона тестов — 8 часов
- Подготовка комплексного отчёта по всему процессу автоматизации тестирования — 16 часов

## План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации)

_Готовность авто-тестов_ – через 10 рабочих дней после согласования плана.

_Результаты тестов, баг-репорты_ – через 3 рабочих дня после прогона тестов.

_Отчёт по итогам автоматизации_ – через 2 рабочих дня после отчёта по результатам тестов и оформления баг-репортов. 